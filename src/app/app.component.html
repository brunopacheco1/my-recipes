<mat-sidenav-container>
  <mat-sidenav #sidenav role="navigation">
    <mat-nav-list>
      <a mat-list-item *ngIf="!isAuthenticated()" (click)="login()">
        <mat-icon class="icon">input</mat-icon>
        <span class="label">Login</span>
      </a>
      <a mat-list-item *ngIf="isAuthenticated()" routerLink="/">
        <mat-icon class="icon">home</mat-icon>
        <span class="label">Home</span>
      </a>
      <a mat-list-item *ngIf="isAuthenticated()" routerLink="/dashboard">
        <mat-icon class="icon">dashboard</mat-icon>
        <span class="label">Dashboard</span>
      </a>
      <a mat-list-item *ngIf="isAuthenticated()" (click)="logout()" type="button">
        <mat-icon class="icon">input</mat-icon>
        <span class="label">Logout</span>
      </a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content fxFlexFill fxLayout="column">
    <div>
      <mat-toolbar color="primary">
        <div fxHide.gt-xs>
          <button mat-icon-button (click)="sidenav.toggle()">
            <mat-icon>menu</mat-icon>
          </button>
        </div>
        <div>
          <a routerLink="/">
            <mat-icon class="icon">room_service</mat-icon>
            My Recipes
          </a>
        </div>
        <div fxFlex fxLayout fxLayoutAlign="flex-end" *ngIf="username" fxHide.gt-xs>
          <div>
            <mat-icon class="icon">perm_identity</mat-icon><span class="label">{{ username }}</span>
          </div>
        </div>
        <div fxFlex fxLayout fxLayoutAlign="flex-end" fxHide.xs>
          <ul fxLayout fxLayoutGap="20px" class="navigation-items">
            <li>
              <a *ngIf="!isAuthenticated()" (click)="login()">
                <mat-icon class="icon">input</mat-icon>
                <span class="label">Login</span>
              </a>
            </li>
            <li>
              <a *ngIf="isAuthenticated()" routerLink="/">
                <mat-icon class="icon">home</mat-icon>
                <span class="label">Home</span>
              </a>
            </li>
            <li>
              <a *ngIf="isAuthenticated() && hasScopes(['read:recipes'])" routerLink="/dashboard">
                <mat-icon class="icon">dashboard</mat-icon>
                <span class="label">Recipes</span>
              </a>
            </li>
            <li>
              <a *ngIf="isAuthenticated()" (click)="logout()" type="button">
                <mat-icon class="icon">input</mat-icon>
                <span class="label">Logout</span>
              </a>
            </li>
            <li *ngIf="username">
              <mat-divider></mat-divider>
            </li>
            <li *ngIf="username">
              <span>
                <mat-icon class="icon">perm_identity</mat-icon><span class="label">{{ username }}</span>
              </span>
            </li>
          </ul>
        </div>
      </mat-toolbar>
    </div>
    <div fxFlex="1 1 100%">
      <main fxFlex="1 1 100%">
        <router-outlet></router-outlet>
      </main>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>